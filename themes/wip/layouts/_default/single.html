{{ define "main" }}

<article itemscope itemType="https://schema.org/BlogPosting">
    <header>
        <h1>{{ .Title }}</h1>
        <section class="meta">
            {{ $dataFormat := .Site.Params.dateFormat | default "2006-01-02" }}
            <span>Published:  <time datetime="{{ .Date }}" itemprop="datePublished">{{ .Date.Format $dataFormat }}</time></span>
            {{ if (and .Site.Params.showUpdated (ne .Lastmod .Date)) }}
            <span>(Updated: <time datetime="{{ .Lastmod }}" itemprop="dateModified">{{ .Lastmod.Format $dataFormat }}</time>)</span>
            {{ end }}

            {{ with (.GetTerms "tags") }}
            <ul class="tags">
                {{ range . }}
                <li class="tag">
                    <span class="prefix">#</span>
                    <a href="{{ .Permalink }}" title="{{ .LinkTitle }}">{{ .LinkTitle }}</a>
                </li>
                {{ end }}
            </ul>
            {{ end }}
        </section>

        {{- if .Params.series -}}
        {{- with index (.GetTerms "series") 0 -}}
        <section class="notice--info">
            <p>This post is part of the <a href="{{ .Permalink }}">{{ .LinkTitle }}</a> series.</p>
        </section>
        {{- end -}}
        {{- end -}}
    </header>

    <main itemprop="articleBody" class="md">
        {{ block "content" . }} {{- .Content }} {{- end }}
    </main>
    <footer></footer>
</article>
{{- end }}

{{ define "header" }}
{{- partial "header" . -}}
{{ end }}